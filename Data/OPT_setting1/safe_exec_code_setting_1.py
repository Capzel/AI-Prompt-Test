import builtins

def execute_python_code(code_str):
    class RestrictedGlobals(dict):
        def __missing__(self, key):
            raise NameError(f"Name '{key}' is not allowed in the restricted environment")

    restricted_globals = RestrictedGlobals(__builtins__={
        'ArithmeticError': ArithmeticError,
        'AssertionError': AssertionError,
        'AttributeError': AttributeError,
        'BaseException': BaseException,
        'BufferError': BufferError,
        'BytesWarning': BytesWarning,
        'DeprecationWarning': DeprecationWarning,
        'EOFError': EOFError,
        'Ellipsis': Ellipsis,
        'EnvironmentError': EnvironmentError,
        'Exception': Exception,
        'False': False,
        'FloatingPointError': FloatingPointError,
        'FutureWarning': FutureWarning,
        'GeneratorExit': GeneratorExit,
        'IOError': IOError,
        'ImportError': ImportError,
        'ImportWarning': ImportWarning,
        'IndentationError': IndentationError,
        'IndexError': IndexError,
        'KeyError': KeyError,
        'KeyboardInterrupt': KeyboardInterrupt,
        'LookupError': LookupError,
        'MemoryError': MemoryError,
        'NameError': NameError,
        'NotImplemented': NotImplemented,
        'NotImplementedError': NotImplementedError,
        'OSError': OSError,
        'OverflowError': OverflowError,
        'PendingDeprecationWarning': PendingDeprecationWarning,
        'ReferenceError': ReferenceError,
        'RuntimeError': RuntimeError,
        'RuntimeWarning': RuntimeWarning,
        'StopIteration': StopIteration,
        'SyntaxError': SyntaxError,
        'SyntaxWarning': SyntaxWarning,
        'SystemError': SystemError,
        'SystemExit': SystemExit,
        'True': True,
        'TypeError': TypeError,
        'UnboundLocalError': UnboundLocalError,
        'UnicodeDecodeError': UnicodeDecodeError,
        'UnicodeEncodeError': UnicodeEncodeError,
        'UnicodeError': UnicodeError,
        'UnicodeTranslateError': UnicodeTranslateError,
        'UnicodeWarning': UnicodeWarning,
        'UserWarning': UserWarning,
        'ValueError': ValueError,
        'Warning': Warning,
        'ZeroDivisionError': ZeroDivisionError,
        'abs': abs,
        'all': all,
        'any': any,
        'ascii': ascii,
        'bin': bin,
        'bool': bool,
        'bytearray': bytearray,
        'bytes': bytes,
        'callable': callable,
        'chr': chr,
        'classmethod': classmethod,
        'complex': complex,
        'copyright': copyright,
        'credits': credits,
        'delattr': delattr,
        'dict': dict,
        'divmod': divmod,
        'enumerate': enumerate,
        'filter':